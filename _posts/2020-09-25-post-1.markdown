---
type: post
title: Utilizando o Firebird com o Docker
subtitle: Servidor
layout: default
modal-id: 1
date: 2020-09-25
img: firebird-docker.png
thumbnail: firebird-docker.png
alt: image-alt
project-date: Setembro 2020
client: Patrick Kaminski
category: DevOps
description: 'Firebird no Docker'

---

Apesar de ser utilizado por alguns e criticado por outros nosso querido Firebird continua evoluindo depois de anos de corre√ß√µes e melhorias.

E nos dias atuais, nada impede de usarmos ele de forma diferente... Dentro de um container do docker por exemplo üòÄ

√â por isso que criamos uma imagem do Docker aqui na ControlSoft. Ajustada para atender √†s nossas necessidades, onde uma das principais √© permitir a f√°cil cria√ß√£o e configura√ß√£o do Firebird.

# Requisitos

Para utilizar o Firebird como container do Docker √© muito simples.

Em primeiro lugar, √© necess√°rio ter o Docker instalado.
Caso n√£o tenha, basta fazer o download atrav√©s deste link.
https://www.docker.com/products/docker-desktop

# Utilizando o Firebird no Docker

Feito isso, existem duas maneiras de criar um container no Docker

## docker run

Um das formas √© atrav√©s do comando docker run

## docker-compose

Outra maneira √© atrav√©s do padr√£o docker-compose.
Para isso basta criar um arquivo com o nome docker-compose.yml com o seguinte conte√∫do:
```
version: "2"
services:
  firebird:
    restart: always
    image: controlsoft/firebird
    container_name: firebird
    ports:
      - 3050:3050
      - 3051:3051
    volumes:
      - C:\Bases:/databases
    environment:
      - PASSWORD=masterkey
```

Atrav√©s deste arquivo definimos alguns par√¢metros:
### restart: always
Informa ao Docker que o container deve iniciar junto com o sistema operacional

### image: controlsoft/firebird
A imagem oficial do Firebird da ControlSoft

### container_name: firebird
Nome que o container vai receber, muito √∫til para parar, ver logs, entre outras a√ß√µes.

### ports
Portas que ser√£o utilizadas, que seguem o padr√£o PORTA DO HOST:PORTA INTERNA DO DOCKER.
No caso, nosso Firebird utiliza sempre as portas 3050 internamente e a porta 3051 para eventos.
Se quisermos que externamente nosso Firebird utilize a porta 1234 por exemplo, basta trocar para 1234:3050, por exemplo.

B√¥nus: Se quisermos que nosso Firebird receba apenas conex√µes locais, basta trocar para 127.0.0.1:1234:3050

### volumes
Isso serve para mapearmos o diret√≥rio /databases do nosso container para um diret√≥rio do computador real, no nosso exemplo, estamos mapeando o diret√≥rio C:\Bases. O mesmo √© v√°lido tamb√©m em ambientes Linux.


### environment
Aqui s√£o informadas as vari√°veis de ambiente. No caso temos a vari√°vel PASSWORD que serve para informarmos a senha do usu√°rio SYSDBA. Caso n√£o seja informada, ser√° gerada uma senha aleat√≥ria de 10 caracteres, que ficar√° vis√≠vel atrav√©s do comando docker logs firebird.

# Conectando ao nosso Firebird

Para conectar √† uma base de dados do Firebird, basta adicionar o arquivo na pasta C:\Bases, e conectar utilizando /databases/nomedoarquivo.FDB.
Os demais dados de conex√£o s√£o semelhantes a uma instala√ß√£o real do Firebird.


# Implementa√ß√µes futuras
Em breve, pretendemos criar uma imagem da vers√£o beta 4.0 do Firebird para realizar simula√ß√µes.


